---
title: 最后一个工作日
date: 2022-01-28 10:32:14
tags:
---



1. 一个泛型典型案例

```js
export interface RouteComponentProps<
    Params extends { [K in keyof Params]?: string } = {},
    C extends StaticContext = StaticContext,
    S = H.LocationState
> {
    history: H.History<S>;
    location: H.Location<S>;
    match: match<Params>;
    staticContext?: C | undefined;
}
```


2. 箭头函数的泛型

```js
function demo2<T>(val: T): T {
  return val;
}






// 箭头函数定义泛型1
const demo = <T>(val: T): T => val;

// 箭头函数定义泛型2
const demo1: <T>(val: T) => T = (val) => val;






// 将泛型实现为接口
interface GenericIdentityFn<T> {
    (arg: T): T;
}

function identity<T>(arg: T): T {
    return arg;
}

let myIdentity: GenericIdentityFn<number> = identity;







// 约束泛型属性
interface LengthWise {
    length: number;
}
function loggingIdentity<T extends Lengthwise>(arg: T): T {
    // Now we know it has a .length property, so no more error
    console.log(arg.length);
    return arg;
}





// 约束泛型
function getProperty<T, K extends keyof T>(obj: T, key: K) {
  return obj[key];
}

let x = { a: 1, b: 2, c: 3, d: 4 };

getProperty(x, "a"); // okay
getProperty(x, "m"); // 报错: 类型“"m"”的参数不能赋给类型“"a" | "b" | "c" | "d"”的参数

```

